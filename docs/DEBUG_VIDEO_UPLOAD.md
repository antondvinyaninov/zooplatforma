# –û—Ç–ª–∞–¥–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ

## –õ–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

### Frontend (Browser Console)

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤–∏–¥–µ–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ª–æ–≥–∏:

```
üé¨ handleVideoUpload –≤—ã–∑–≤–∞–Ω
üìÅ –í—ã–±—Ä–∞–Ω–æ –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤: 1
üìä –î–æ—Å—Ç—É–ø–Ω–æ —Å–ª–æ—Ç–æ–≤: 10
‚úÖ –§–∞–π–ª–æ–≤ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ: 1
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–µ–æ: video.mp4, —Ä–∞–∑–º–µ—Ä: 5242880, —Ç–∏–ø: video/mp4
‚úÖ –í–∏–¥–µ–æ –≤–∞–ª–∏–¥–Ω–æ: video.mp4
‚úÖ –í–∞–ª–∏–¥–Ω—ã—Ö –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤: 1
üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –≤–∏–¥–µ–æ...
üì¶ uploadMultiple –Ω–∞—á–∞—Ç –¥–ª—è 1 —Ñ–∞–π–ª–æ–≤, —Ç–∏–ø: video
‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞: video.mp4
üîÑ uploadFile –Ω–∞—á–∞—Ç –¥–ª—è: video.mp4, —Ç–∏–ø: video
üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ http://localhost:8000/api/media/upload
üìã FormData: file=video.mp4, media_type=video, size=5242880
üì• –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω, —Å—Ç–∞—Ç—É—Å: 200
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–≥—Ä—É–∑–∫–∏: {data: {...}}
‚úÖ –§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω: video.mp4
‚úÖ –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω: video.mp4
üéâ uploadMultiple –∑–∞–≤–µ—Ä—à–µ–Ω, –∑–∞–≥—Ä—É–∂–µ–Ω–æ: 1
üì¶ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤: 1 [...]
‚úÖ –í–∏–¥–µ–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```

### Backend (Terminal)

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ backend –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
üì§ [UPLOAD] –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è user_id=1
üìã [UPLOAD] –¢–∏–ø –º–µ–¥–∏–∞: video
üìè [UPLOAD] –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 100MB (104857600 bytes)
üìÅ [UPLOAD] –§–∞–π–ª –ø–æ–ª—É—á–µ–Ω: video.mp4, —Ä–∞–∑–º–µ—Ä: 5242880 bytes, MIME: video/mp4
‚úÖ [UPLOAD] MIME —Ç–∏–ø –≤–∞–ª–∏–¥–µ–Ω: video/mp4
üìÇ [UPLOAD] –ü—É—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: uploads/users/1/videos/2025/12/uuid.mp4
‚úÖ [UPLOAD] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∞
üíæ [UPLOAD] –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω, —Ä–∞–∑–º–µ—Ä: 5242880 bytes
üíæ [UPLOAD] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î: user_id=1, file_name=uuid.mp4, media_type=video
‚úÖ [UPLOAD] –ó–∞–ø–∏—Å—å –≤ –ë–î —Å–æ–∑–¥–∞–Ω–∞, ID=123
üéâ [UPLOAD] –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! ID=123, URL=/api/media/file/123
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

### ‚ùå –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π

**Frontend:**
```
‚ùå –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π: video.mp4
```

**–†–µ—à–µ–Ω–∏–µ:** –í–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ 100MB

### ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø —Ñ–∞–π–ª–∞

**Frontend:**
```
‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø —Ñ–∞–π–ª–∞: file.txt, —Ç–∏–ø: text/plain
```

**Backend:**
```
‚ùå [UPLOAD] –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π MIME —Ç–∏–ø: text/plain –¥–ª—è —Ç–∏–ø–∞ video
```

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤–∏–¥–µ–æ —Ñ–æ—Ä–º–∞—Ç—ã: MP4, WebM, QuickTime, MPEG

### ‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

**Backend:**
```
‚ùå [UPLOAD] –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: permission denied
```

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ `uploads/`

### ‚ùå –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ

**Frontend:**
```
‚ùå –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ: {success: true}
```

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `data` –≤ –æ—Ç–≤–µ—Ç–µ

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª –Ω–∞ –¥–∏—Å–∫–µ:**
   ```bash
   ls -lh uploads/users/1/videos/2025/12/
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø–∏—Å—å –≤ –ë–î:**
   ```bash
   sqlite3 database/data.db "SELECT * FROM user_media WHERE media_type='video';"
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   ```
   http://localhost:8000/api/media/file/123
   ```

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- **MP4** (video/mp4) - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- **WebM** (video/webm)
- **QuickTime** (video/quicktime)
- **MPEG** (video/mpeg)

## –õ–∏–º–∏—Ç—ã

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: **100MB**
- –ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª–æ–≤ –≤ –æ–¥–Ω–æ–º –ø–æ—Å—Ç–µ: **10** (—Ñ–æ—Ç–æ + –≤–∏–¥–µ–æ –≤–º–µ—Å—Ç–µ)
