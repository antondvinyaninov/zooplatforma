# –≠–¢–ê–ü 0 - –ü–û–î–ì–û–¢–û–í–ö–ê PETID - –°–≤–æ–¥–∫–∞

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 12 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω

---

## üéØ –¶–µ–ª—å —ç—Ç–∞–ø–∞

–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å PetID (–±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤) –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–ú–∏–≥—Ä–∞—Ü–∏—è 023:** –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ –ø–∏—Ç–æ–º—Ü–µ–≤
- ‚úÖ `city` TEXT - –≥–æ—Ä–æ–¥ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ `region` TEXT - —Ä–µ–≥–∏–æ–Ω –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ `urgent` BOOLEAN - —Å—Ä–æ—á–Ω–æ—Å—Ç—å (SOS-–∂–∏–≤–æ—Ç–Ω—ã–µ)
- ‚úÖ `contact_phone` TEXT - —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏
- ‚úÖ `contact_name` TEXT - –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞: `idx_pets_city`, `idx_pets_region`, `idx_pets_urgent`

**–ú–∏–≥—Ä–∞—Ü–∏—è 024:** –°–≤—è–∑—å –ø–∏—Ç–æ–º—Ü–µ–≤ —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏
- ‚úÖ `organization_id` INTEGER - —Å–≤—è–∑—å —Å –ø—Ä–∏—é—Ç–æ–º/–∫–ª–∏–Ω–∏–∫–æ–π
- ‚úÖ –ò–Ω–¥–µ–∫—Å `idx_pets_organization_id`

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Go –º–æ–¥–µ–ª–µ–π

**petbase/backend/handlers/pets.go:**
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Pet` –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏:
  - `City`, `Region`, `Urgent`, `ContactName`, `ContactPhone`, `OrganizationID`
- ‚úÖ SQL –∑–∞–ø—Ä–æ—Å –≤ `CatalogHandler` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: —Å—Ä–æ—á–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏ (`ORDER BY urgent DESC, created_at DESC`)

**main/backend/models/pet.go:**
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Pet` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å petbase

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API

**CatalogHandler (petbase/backend/handlers/pets.go):**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º:
  - `?status=lost` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
  - `?city=–ò–∂–µ–≤—Å–∫` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥—É
  - `?region=–£–¥–º—É—Ä—Ç—Å–∫–∞—è –†–µ—Å–ø` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–≥–∏–æ–Ω—É
  - `?urgent=true` - —Ç–æ–ª—å–∫–æ —Å—Ä–æ—á–Ω—ã–µ —Å–ª—É—á–∞–∏
  - `?species=dog` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –≤–∏–¥—É –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
  - `?search=–ë–æ–±–∏–∫` - –ø–æ–∏—Å–∫ –ø–æ –∫–ª–∏—á–∫–µ –∏–ª–∏ –ø–æ—Ä–æ–¥–µ
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ TypeScript —Ç–∏–ø–æ–≤

**main/frontend/lib/api.ts:**
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Pet` –æ–±–Ω–æ–≤–ª–µ–Ω —Å –ø–æ–ª—è–º–∏: `city`, `region`, `urgent`, `contact_phone`, `contact_name`, `organization_id`

**main/frontend/lib/petbase-api.ts:**
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Pet` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å backend

### 5. –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ Backend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã pets (–ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–π)

–í—Å–µ–≥–æ –ø–æ–ª–µ–π: **60**

### –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ (–º–∏–≥—Ä–∞—Ü–∏—è 023):
- `city` - –≥–æ—Ä–æ–¥ (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- `region` - —Ä–µ–≥–∏–æ–Ω (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- `urgent` - —Å—Ä–æ—á–Ω–æ—Å—Ç—å (SOS)
- `contact_phone` - —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏
- `contact_name` - –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ

### –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–º–∏–≥—Ä–∞—Ü–∏—è 024):
- `organization_id` - —Å–≤—è–∑—å —Å –ø—Ä–∏—é—Ç–æ–º/–∫–ª–∏–Ω–∏–∫–æ–π

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏

### –¢–∞–±–ª–∏—Ü–∞ organizations

–£–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å –ø–æ–ª—è–º–∏:
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `type` - —Ç–∏–ø (shelter, clinic, pet_store, foundation, etc.)
- `is_verified` - —Å—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏)
- `address_city` - –≥–æ—Ä–æ–¥
- `address_region` - —Ä–µ–≥–∏–æ–Ω

### –°–≤—è–∑—å pets ‚Üî organizations

```sql
-- –ü–∏—Ç–æ–º—Ü—ã –ø—Ä–∏—é—Ç–∞
SELECT p.* FROM pets p
JOIN organizations o ON p.organization_id = o.id
WHERE o.type = 'shelter' AND o.is_verified = 1;

-- –ü–∏—Ç–æ–º—Ü—ã –∫–ª–∏–Ω–∏–∫–∏
SELECT p.* FROM pets p
JOIN organizations o ON p.organization_id = o.id
WHERE o.type = 'clinic' AND o.is_verified = 1;

-- –ü–∏—Ç–æ–º—Ü—ã –±–µ–∑ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (—á–∞—Å—Ç–Ω—ã–µ –≤–ª–∞–¥–µ–ª—å—Ü—ã)
SELECT * FROM pets WHERE organization_id IS NULL;
```

---

## üé® API Endpoints

### GET /api/catalog

**–ü—É–±–ª–∏—á–Ω—ã–π endpoint** –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ –ø–∏—Ç–æ–º—Ü–µ–≤ (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `status` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (looking_for_home, lost, found, needs_help)
- `city` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥—É
- `region` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–≥–∏–æ–Ω—É
- `urgent` - —Ç–æ–ª—å–∫–æ —Å—Ä–æ—á–Ω—ã–µ (true/false)
- `species` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –≤–∏–¥—É –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
- `search` - –ø–æ–∏—Å–∫ –ø–æ –∫–ª–∏—á–∫–µ –∏–ª–∏ –ø–æ—Ä–æ–¥–µ

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:**

```bash
# –í—Å–µ –ø–∏—Ç–æ–º—Ü—ã, –∏—â—É—â–∏–µ –¥–æ–º
GET /api/catalog?status=looking_for_home

# –°—Ä–æ—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –≤ –ò–∂–µ–≤—Å–∫–µ
GET /api/catalog?urgent=true&city=–ò–∂–µ–≤—Å–∫

# –ü–æ—Ç–µ—Ä—è–≤—à–∏–µ—Å—è —Å–æ–±–∞–∫–∏ –≤ –£–¥–º—É—Ä—Ç–∏–∏
GET /api/catalog?status=lost&species=dog&region=–£–¥–º—É—Ä—Ç—Å–∫–∞—è –†–µ—Å–ø

# –ü–æ–∏—Å–∫ –ø–æ –∫–ª–∏—á–∫–µ
GET /api/catalog?search=–ë–æ–±–∏–∫
```

**–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**
1. –°—Ä–æ—á–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã (`urgent = true`) –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏
2. –ó–∞—Ç–µ–º –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ)

---

## üìù –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

### –°—Ç–∞—Ç—É—Å—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ü–æ–ª–µ `is_verified` –≤ —Ç–∞–±–ª–∏—Ü–µ `organizations`:
- `0` (false) - –Ω–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `1` (true) - –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

### –ü—Ä–∞–≤–∏–ª–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

1. **–¢–æ–ª—å–∫–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥
2. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ Admin –ø–∞–Ω–µ–ª—å
3. **–ü–∏—Ç–æ–º—Ü—ã –Ω–µ–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π** –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –ø—É–±–ª–∏—á–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ API

```go
// –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–∏—Ç–æ–º—Ü–∞
if req.OrganizationID != nil {
    var isVerified bool
    err := db.QueryRow(
        "SELECT is_verified FROM organizations WHERE id = ?",
        *req.OrganizationID,
    ).Scan(&isVerified)
    
    if err != nil || !isVerified {
        http.Error(w, "Organization not verified", http.StatusForbidden)
        return
    }
}
```

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–≠–¢–ê–ü 0 –∑–∞–≤–µ—Ä—à–µ–Ω! –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫:

### –≠–¢–ê–ü 1 - –°–û–¶–ò–ê–õ–¨–ù–´–ï –°–í–Ø–ó–ò (1 –Ω–µ–¥–µ–ª—è)
- –õ–∞–π–∫–∏ –ø–æ—Å—Ç–æ–≤ (Backend —É–∂–µ –≥–æ—Ç–æ–≤ ‚úÖ)
- –î—Ä—É–∑—å—è (Backend —É–∂–µ –≥–æ—Ç–æ–≤ ‚úÖ)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –≠–¢–ê–ü 2 - –û–†–ì–ê–ù–ò–ó–ê–¶–ò–ò (1 –Ω–µ–¥–µ–ª—è)
- –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–ª–µ–Ω–∞–º–∏
- –ü–æ—Å—Ç—ã –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

### –≠–¢–ê–ü 3 - –ö–ê–¢–ê–õ–û–ì –ü–ò–¢–û–ú–¶–ï–í (0.5 –Ω–µ–¥–µ–ª–∏)
- Frontend –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏
- –ú–æ–¥–µ—Ä–∞—Ü–∏—è –≤ Admin –ø–∞–Ω–µ–ª–∏

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `docs/MVP.md` - –ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω MVP
- `database/migrations/023_add_catalog_fields_to_pets.sql` - –º–∏–≥—Ä–∞—Ü–∏—è –ø–æ–ª–µ–π –∫–∞—Ç–∞–ª–æ–≥–∞
- `database/migrations/024_add_organization_to_pets.sql` - –º–∏–≥—Ä–∞—Ü–∏—è —Å–≤—è–∑–∏ —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏
- `petbase/backend/handlers/pets.go` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π CatalogHandler
- `docs/ORGANIZATIONS.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º

---

## ‚úÖ Checklist –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≠–¢–ê–ü–ê 0

- [x] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î: –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è city, region, urgent, contact_phone, contact_name
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î: –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ organization_id
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã Go –º–æ–¥–µ–ª–∏ (petbase –∏ main)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω CatalogHandler —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã TypeScript —Ç–∏–ø—ã
- [x] Backend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –ò–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –≠–¢–ê–ü 0 –ó–ê–í–ï–†–®–ï–ù

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –≠–¢–ê–ü 1 - –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏
