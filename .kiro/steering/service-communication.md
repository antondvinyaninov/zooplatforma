---
title: –û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏
inclusion: always
---

---
inclusion: manual
---

# –ü—Ä–∞–≤–∏–ª–∞ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û: –ö–∞–∫ —Å–µ—Ä–≤–∏—Å—ã –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º

**–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 2 —Å–ø–æ—Å–æ–±–∞ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏:**

---

## 1. –û–±—â–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PRIMARY)

**–í—Å–µ backend —Å–µ—Ä–≤–∏—Å—ã —á–∏—Ç–∞—é—Ç –∏ –ø–∏—à—É—Ç –≤ –æ–¥–Ω—É –ë–î: `database/data.db`**

```
Main Backend ‚îÄ‚îÄ‚îê
Clinic Backend ‚îú‚îÄ‚Üí SQLite (database/data.db)
Admin Backend ‚îÄ‚îÄ‚î§
PetBase Backend ‚îò
```

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

**–í–°–ï–ì–î–ê –¥–ª—è:**
- –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤
- –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- –ó–∞–ø–∏—Å—å –≤ —Å–≤–æ–∏ —Ç–∞–±–ª–∏—Ü—ã

### –ü—Ä–∏–º–µ—Ä—ã:

**Clinic Backend —á–∏—Ç–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```go
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î
var user User
err := db.QueryRow("SELECT * FROM users WHERE id = ?", userID).Scan(&user)
```

**Clinic Backend —á–∏—Ç–∞–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–ª–∏–Ω–∏–∫–∏:**
```go
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î
rows, err := db.Query(`
    SELECT om.*, u.name, u.email 
    FROM organization_members om
    JOIN users u ON om.user_id = u.id
    WHERE om.organization_id = ?
`, clinicID)
```

**Clinic Backend —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –æ –ø—Ä–∏–µ–º–µ:**
```go
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –∑–∞–ø–∏—Å—å –≤ —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É
_, err := db.Exec(`
    INSERT INTO clinic_appointments (clinic_id, pet_id, date, notes)
    VALUES (?, ?, ?, ?)
`, clinicID, petID, date, notes)
```

### ‚ùå –ù–ï –¥–µ–ª–∞—Ç—å:

**–ù–ï –∏–∑–º–µ–Ω—è—Ç—å —á—É–∂–∏–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞–ø—Ä—è–º—É—é:**
```go
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - Clinic –Ω–µ –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å users
db.Exec("UPDATE users SET name = ? WHERE id = ?", newName, userID)
// –ò—Å–ø–æ–ª—å–∑—É–π Main API!
```

---

## 2. REST API (SECONDARY)

**–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ - –∏—Å–ø–æ–ª—å–∑—É–π –∏—Ö API**

```
Clinic Backend ‚Üí HTTP ‚Üí Main Backend
                        (–∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
```

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

**–¢–æ–ª—å–∫–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –¥—Ä—É–≥–æ–º—É —Å–µ—Ä–≤–∏—Å—É:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí Main API
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ ‚Üí Main API
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–¥—ã ‚Üí PetBase API

### –ü—Ä–∏–º–µ—Ä—ã:

**Clinic Backend –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```go
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - —á–µ—Ä–µ–∑ Main API
resp, err := http.Post("http://localhost:8000/api/profile", 
    "application/json",
    bytes.NewBuffer(jsonData))
```

**Clinic Backend –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ—Ä–æ–¥:**
```go
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - —á–µ—Ä–µ–∑ PetBase API
resp, err := http.Get("http://localhost:8100/api/breeds?species_id=1")
```

---

## üìã –¢–∞–±–ª–∏—Ü–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### Main Backend (–ø–æ—Ä—Ç 8000):

**–í–ª–∞–¥–µ–µ—Ç —Ç–∞–±–ª–∏—Ü–∞–º–∏:**
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `posts` - –ø–æ—Å—Ç—ã
- `likes` - –ª–∞–π–∫–∏
- `comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- `pets` - –ø–∏—Ç–æ–º—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `friends` - –¥—Ä—É–∑—å—è
- `notifications` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã:**
- ‚úÖ –ú–æ–≥—É—Ç –ß–ò–¢–ê–¢–¨ —ç—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã
- ‚ùå –ù–ï –º–æ–≥—É—Ç –ò–ó–ú–ï–ù–Ø–¢–¨ –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –ò–∑–º–µ–Ω—è—é—Ç —á–µ—Ä–µ–∑ Main API

### PetBase Backend (–ø–æ—Ä—Ç 8100):

**–í–ª–∞–¥–µ–µ—Ç —Ç–∞–±–ª–∏—Ü–∞–º–∏:**
- `species` - –≤–∏–¥—ã –∂–∏–≤–æ—Ç–Ω—ã—Ö
- `breeds` - –ø–æ—Ä–æ–¥—ã
- `pet_cards` - –∫–∞—Ä—Ç–æ—á–∫–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö

**–î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã:**
- ‚úÖ –ú–æ–≥—É—Ç –ß–ò–¢–ê–¢–¨ —ç—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã
- ‚ùå –ù–ï –º–æ–≥—É—Ç –ò–ó–ú–ï–ù–Ø–¢–¨ –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –ò–∑–º–µ–Ω—è—é—Ç —á–µ—Ä–µ–∑ PetBase API

### Clinic Backend (–ø–æ—Ä—Ç 8600):

**–í–ª–∞–¥–µ–µ—Ç —Ç–∞–±–ª–∏—Ü–∞–º–∏:**
- `clinic_appointments` - –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–∏–µ–º
- `clinic_patients` - –ø–∞—Ü–∏–µ–Ω—Ç—ã –∫–ª–∏–Ω–∏–∫–∏
- `clinic_medical_records` - –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏

**–î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã:**
- ‚úÖ –ú–æ–≥—É—Ç –ß–ò–¢–ê–¢–¨ —ç—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã
- ‚ùå –ù–ï –º–æ–≥—É—Ç –ò–ó–ú–ï–ù–Ø–¢–¨ –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –ò–∑–º–µ–Ω—è—é—Ç —á–µ—Ä–µ–∑ Clinic API

### –û–±—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (–≤—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å):

- `organizations` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–∫–ª–∏–Ω–∏–∫–∏, –ø—Ä–∏—é—Ç—ã)
- `organization_members` - —É—á–∞—Å—Ç–Ω–∏–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

---

## üéØ –ü—Ä–∞–≤–∏–ª–æ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:

### –ß–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ:
```
‚úÖ –ù–∞–ø—Ä—è–º—É—é –∏–∑ –ë–î (–±—ã—Å—Ç—Ä–æ)
```

### –ò–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ:
```
–°–≤–æ–∏ —Ç–∞–±–ª–∏—Ü—ã ‚Üí ‚úÖ –ù–∞–ø—Ä—è–º—É—é –≤ –ë–î
–ß—É–∂–∏–µ —Ç–∞–±–ª–∏—Ü—ã ‚Üí ‚úÖ –ß–µ—Ä–µ–∑ API –≤–ª–∞–¥–µ–ª—å—Ü–∞
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏:

### –ü—Ä–∏–º–µ—Ä 1: Clinic –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤

```go
// Clinic Backend
func GetPatients(w http.ResponseWriter, r *http.Request) {
    clinicID := r.Context().Value(ClinicIDKey).(int)
    
    // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - —á–∏—Ç–∞–µ–º –∏–∑ –ë–î –Ω–∞–ø—Ä—è–º—É—é
    rows, err := db.Query(`
        SELECT p.id, p.name, p.species, p.breed, u.name as owner_name
        FROM pets p
        JOIN users u ON p.user_id = u.id
        JOIN clinic_patients cp ON p.id = cp.pet_id
        WHERE cp.clinic_id = ?
    `, clinicID)
    
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç...
}
```

### –ü—Ä–∏–º–µ—Ä 2: Clinic –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–º—è –ø–∏—Ç–æ–º—Ü–∞

```go
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –Ω–µ –º–µ–Ω—è–µ–º pets –Ω–∞–ø—Ä—è–º—É—é
db.Exec("UPDATE pets SET name = ? WHERE id = ?", newName, petID)

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - —á–µ—Ä–µ–∑ Main API
client := &http.Client{}
req, _ := http.NewRequest("PUT", 
    "http://localhost:8000/api/pets/" + petID,
    bytes.NewBuffer(jsonData))
req.Header.Set("Authorization", "Bearer " + token)
resp, err := client.Do(req)
```

### –ü—Ä–∏–º–µ—Ä 3: Clinic –ø–æ–ª—É—á–∞–µ—Ç –ø–æ—Ä–æ–¥—ã –¥–ª—è —Ñ–æ—Ä–º—ã

```go
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - —á–∏—Ç–∞–µ–º –∏–∑ –ë–î –Ω–∞–ø—Ä—è–º—É—é (–±—ã—Å—Ç—Ä–æ)
rows, err := db.Query("SELECT id, name FROM breeds WHERE species_id = ?", speciesID)

// –ò–ª–∏ —á–µ—Ä–µ–∑ PetBase API (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞)
resp, err := http.Get("http://localhost:8100/api/breeds?species_id=" + speciesID)
```

---

## üö´ –ß—Ç–æ –ù–ï–õ–¨–ó–Ø –¥–µ–ª–∞—Ç—å:

### 1. –ò–∑–º–µ–Ω—è—Ç—å —á—É–∂–∏–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞–ø—Ä—è–º—É—é
```go
// ‚ùå Clinic Backend
db.Exec("UPDATE users SET avatar = ? WHERE id = ?", avatar, userID)
// –ò—Å–ø–æ–ª—å–∑—É–π Main API!
```

### 2. –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Å–≤–æ–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
```go
// ‚ùå –ù–µ —Å–æ–∑–¥–∞–≤–∞–π —Å–≤–æ—é –∫–æ–ø–∏—é users
CREATE TABLE clinic_users (...)
// –ß–∏—Ç–∞–π –∏–∑ –æ–±—â–µ–π —Ç–∞–±–ª–∏—Ü—ã users!
```

### 3. –û–±—Ö–æ–¥–∏—Ç—å API –¥–ª—è "—Å–∫–æ—Ä–æ—Å—Ç–∏"
```go
// ‚ùå –ù–µ –¥–µ–ª–∞–π —Ç–∞–∫, –¥–∞–∂–µ –µ—Å–ª–∏ "–±—ã—Å—Ç—Ä–µ–µ"
db.Exec("INSERT INTO posts (...) VALUES (...)")
// –ò—Å–ø–æ–ª—å–∑—É–π Main API –¥–ª—è –ø–æ—Å—Ç–æ–≤!
```

---

## ‚úÖ Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –∫ –ë–î:

- [ ] –≠—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –º–æ–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞? ‚Üí –ü–∏—à–∏ –Ω–∞–ø—Ä—è–º—É—é
- [ ] –≠—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞? ‚Üí –ß–∏—Ç–∞–π –Ω–∞–ø—Ä—è–º—É—é, –∏–∑–º–µ–Ω—è–π —á–µ—Ä–µ–∑ API
- [ ] –≠—Ç–æ –æ–±—â–∞—è —Ç–∞–±–ª–∏—Ü–∞? ‚Üí –ú–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å
- [ ] –ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è? ‚Üí Main API
- [ ] –ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Ä–æ–¥—ã? ‚Üí PetBase API

---

## üîÑ –ë—É–¥—É—â–µ–µ (–∫–æ–≥–¥–∞ –≤—ã—Ä–∞—Å—Ç–µ–º):

**–ö–æ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç —Å—Ç–∞–Ω–µ—Ç –±–æ–ª—å—à–∏–º, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**
- gRPC –¥–ª—è backend-to-backend (–±—ã—Å—Ç—Ä–µ–µ REST)
- Message Queue –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç–æ —á–∏—Ç–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ù–æ —Å–µ–π—á–∞—Å:**
- ‚úÖ –û–±—â–∞—è –ë–î –¥–ª—è —á—Ç–µ–Ω–∏—è
- ‚úÖ REST API –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ

---

**–ü–æ–º–Ω–∏:** –û–±—â–∞—è –ë–î - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ! –ù–µ —É—Å–ª–æ–∂–Ω—è–π –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ.
