---
inclusion: manual
---

# üóÑÔ∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û: –ò–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é

## –ó–ê–ü–†–ï–©–ï–ù–û

**–ù–ò–ö–û–ì–î–ê –Ω–µ –ø—Ä–∏–º–µ–Ω—è–π –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**

### –ß—Ç–æ –ù–ï–õ–¨–ó–Ø –¥–µ–ª–∞—Ç—å:
- ‚ùå –í—ã–ø–æ–ª–Ω—è—Ç—å SQL –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ `executeBash`
- ‚ùå –ü—Ä–∏–º–µ–Ω—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚ùå –ò–∑–º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
- ‚ùå –í—Å—Ç–∞–≤–ª—è—Ç—å/–æ–±–Ω–æ–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –∏–Ω–¥–µ–∫—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ü–æ—á–µ–º—É:
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ production - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ë–î
- –ù—É–∂–Ω–æ –≤—Ä–µ–º—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û

### –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

1. **–°–æ–∑–¥–∞–π SQL —Ñ–∞–π–ª** —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
2. **–û–ø–∏—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é** —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å
3. **–î–∞–π —Ç–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
4. **–ñ–¥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

### –§–æ—Ä–º–∞—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π:

```markdown
## –ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
[–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏]

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ PostgreSQL:
```bash
PGPASSWORD=lmLG7k2ed4vas19 psql -h zooplatforma-db -U zp -d zp-db
```

### SQL –∫–æ–º–∞–Ω–¥—ã:
```sql
-- –û–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞
ALTER TABLE table_name ADD COLUMN new_column TEXT;

-- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
CREATE INDEX idx_name ON table_name(column_name);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```sql
-- –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
\d table_name
```

### –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
–ù–∞–ø–∏—à–∏ "–≥–æ—Ç–æ–≤–æ" –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—à—å –∫–æ–º–∞–Ω–¥—ã.
```

### –ü—Ä–∏–º–µ—Ä—ã –ü–†–ê–í–ò–õ–¨–ù–´–• –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π:

#### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏

```markdown
## –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É –≤ —Ç–∞–±–ª–∏—Ü—É messages

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
–î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É `chat_id` –≤ —Ç–∞–±–ª–∏—Ü—É `messages` –¥–ª—è —Å–≤—è–∑–∏ —Å —á–∞—Ç–∞–º–∏.

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Ö–æ–¥–∞:
```bash
PGPASSWORD=lmLG7k2ed4vas19 psql -h zooplatforma-db -U zp -d zp-db
```

### SQL:
```sql
ALTER TABLE messages ADD COLUMN chat_id INTEGER;
CREATE INDEX idx_messages_chat_id ON messages(chat_id);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```sql
\d messages
```
```

#### –ü—Ä–∏–º–µ—Ä 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã

```markdown
## –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É chats

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Ö–æ–¥–∞:
```bash
PGPASSWORD=lmLG7k2ed4vas19 psql -h zooplatforma-db -U zp -d zp-db
```

### SQL:
```sql
CREATE TABLE IF NOT EXISTS chats (
    id SERIAL PRIMARY KEY,
    user1_id INTEGER NOT NULL,
    user2_id INTEGER NOT NULL,
    last_message_id INTEGER,
    last_message_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_chats_user1 ON chats(user1_id);
CREATE INDEX idx_chats_user2 ON chats(user2_id);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```sql
\d chats
SELECT COUNT(*) FROM chats;
```
```

## –ò—Å–∫–ª—é—á–µ–Ω–∏—è

**–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–ª—É—á–∞–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- –ù–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π! –í—Å–µ–≥–¥–∞ —Å–ø—Ä–∞—à–∏–≤–∞–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## Workflow

1. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å –ø—Ä–æ–±–ª–µ–º—É** - –ø–æ–Ω–∏–º–∞–µ—à—å —á—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –ë–î
2. **–°–æ–∑–¥–∞–µ—à—å SQL —Ñ–∞–π–ª** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã–µ
3. **–ü–∏—à–µ—à—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** - —á–µ—Ç–∫–∏–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ
4. **–ñ–¥–µ—à—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω–∏—Ç –∫–æ–º–∞–Ω–¥—ã
5. **–ü—Ä–æ–¥–æ–ª–∂–∞–µ—à—å —Ä–∞–±–æ—Ç—É** - –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è "–≥–æ—Ç–æ–≤–æ"

## –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å —Ä–∞–Ω—å—à–µ

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏:
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è–ª–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –ª–æ–º–∞–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–Ω–∞–ª —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –µ–≥–æ –ë–î
- –ü—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é
- –¢–µ—Ä—è–ª–æ—Å—å –≤—Ä–µ–º—è –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –¢–µ–ø–µ—Ä—å:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ë–î
- –ï—Å—Ç—å –≤—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
- –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –ù–µ—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

## Checklist –ø–µ—Ä–µ–¥ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –ë–î

- [ ] –¢–æ—á–Ω–æ –ª–∏ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ë–î?
- [ ] –ú–æ–∂–Ω–æ –ª–∏ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–¥–∞?
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã –ª–∏ —á–µ—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏?
- [ ] –£–∫–∞–∑–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ PostgreSQL?
- [ ] –ï—Å—Ç—å –ª–∏ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞?
- [ ] –û–±—ä—è—Å–Ω–µ–Ω–æ –ª–∏ —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞?

---

**–ü–†–ê–í–ò–õ–û:** –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö - –Ω–∞–ø–∏—à–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –∂–¥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!
