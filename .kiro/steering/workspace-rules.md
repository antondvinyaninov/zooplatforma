---
inclusion: always
---

# Main Workspace Rules - –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI Assistant

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û: –ò–∑–º–µ–Ω—è–π —Ç–æ–ª—å–∫–æ Main, –æ—Å—Ç–∞–ª—å–Ω–æ–µ - —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–π!

**–ö–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ Main workspace, –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –¢–û–õ–¨–ö–û –ø–∞–ø–∫—É `main/`!**

---

## ‚úÖ –ß—Ç–æ AI –ú–û–ñ–ï–¢ –∏–∑–º–µ–Ω—è—Ç—å:

### Main Frontend (`main/frontend/`)
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –≤ `main/frontend/app/`
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –≤ `main/frontend/lib/`
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –≤ `main/frontend/components/`
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –≤ `main/frontend/contexts/`
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –≤ `main/frontend/types/`
- ‚úÖ `main/frontend/package.json`
- ‚úÖ `main/frontend/next.config.ts`
- ‚úÖ `main/frontend/tailwind.config.ts`

### Main Backend (`main/backend/`)
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –≤ `main/backend/handlers/`
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –≤ `main/backend/middleware/`
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –≤ `main/backend/models/`
- ‚úÖ `main/backend/main.go`
- ‚úÖ `main/backend/go.mod`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Main
- ‚úÖ `main/README_API.md`
- ‚úÖ `main/main-workspace-rules.md`

---

## üìñ –ß—Ç–æ AI –º–æ–∂–µ—Ç –¢–û–õ–¨–ö–û –ß–ò–¢–ê–¢–¨ (–ù–ï –∏–∑–º–µ–Ω—è—Ç—å):

### Auth Service (`auth/`)
- üìñ –ß–∏—Ç–∞–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- üìñ –ò—Å–ø–æ–ª—å–∑—É–π `/api/auth/me` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤
- ‚ùå –ù–ï –∏–∑–º–µ–Ω—è–π –∫–æ–¥ Auth Service –∏–∑ Main workspace!

### PetBase (`petbase/`)
- üìñ –ß–∏—Ç–∞–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö
- üìñ –ò—Å–ø–æ–ª—å–∑—É–π API endpoints –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ù–ï –∏–∑–º–µ–Ω—è–π –∫–æ–¥ PetBase –∏–∑ Main workspace!

### Shared (`shared/`)
- üìñ –ß–∏—Ç–∞–π —Ç–∏–ø—ã, —Ö—É–∫–∏, —É—Ç–∏–ª–∏—Ç—ã
- üìñ –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `@pet/shared`
- ‚ö†Ô∏è –ò–∑–º–µ–Ω—è–π –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ —ç—Ç–æ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è Main
- –õ—É—á—à–µ —Å–æ–∑–¥–∞–π –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ `main/frontend/components/`

### Database (`database/`)
- üìñ –ß–∏—Ç–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î
- üìñ –°–º–æ—Ç—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ö–µ–º—ã
- ‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ Main workspace!

### Pkg (`pkg/`)
- üìñ –ß–∏—Ç–∞–π middleware –∏ –∫–ª–∏–µ–Ω—Ç—ã
- üìñ –ò—Å–ø–æ–ª—å–∑—É–π `pkg/middleware` –≤ Main Backend
- ‚ùå –ù–ï –∏–∑–º–µ–Ω—è–π pkg –∏–∑ Main workspace!

### Uploads (`uploads/`)
- üìñ –°–º–æ—Ç—Ä–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚ùå –ù–ï —É–¥–∞–ª—è–π —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é!

---

## üéØ –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è AI

### 1. –§–æ–∫—É—Å –Ω–∞ Main
**–¶–µ–ª—å:** –†–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π (Main)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–π –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –¥–ª—è Main
- –ò—Å–ø—Ä–∞–≤–ª—è–π –±–∞–≥–∏ –≤ Main
- –£–ª—É—á—à–∞–π UI/UX –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Main

**–ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å:**
- –ù–µ –∏–∑–º–µ–Ω—è–π –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã (auth, petbase, database, pkg, uploads)
- –ù–µ —Å–æ–∑–¥–∞–≤–∞–π –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- –ù–µ –∏–∑–º–µ–Ω—è–π shared –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**Auth Service:**
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –∏—Å–ø–æ–ª—å–∑—É–π API
const response = await fetch('http://localhost:7100/api/auth/me', {
  credentials: 'include',
});

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –Ω–µ –ª–µ–∑—å –≤ –∫–æ–¥ Auth
import { checkAuth } from '../../auth/backend/utils'; // –ù–ï–¢!
```

**PetBase:**
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –∏—Å–ø–æ–ª—å–∑—É–π API
const breeds = await fetch('http://localhost:8100/api/breeds');

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –Ω–µ —á–∏—Ç–∞–π –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ë–î
import { getBreeds } from '../../petbase/backend/handlers'; // –ù–ï–¢!
```

**Shared:**
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –∏—Å–ø–æ–ª—å–∑—É–π —á–µ—Ä–µ–∑ @pet/shared
import { User } from '@pet/shared/types';
import { useAuth } from '@pet/shared/hooks';

// ‚ö†Ô∏è –û–°–¢–û–†–û–ñ–ù–û: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
// –õ—É—á—à–µ —Å–∫–æ–ø–∏—Ä—É–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–æ–∫–∞–ª—å–Ω–æ –≤ main/frontend/components/
```

### 3. –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç

**–°–∫–∞–∂–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç –µ—Å–ª–∏ –Ω—É–∂–Ω–æ:**

1. –ò–∑–º–µ–Ω–∏—Ç—å Auth Service (–ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–æ–≤—ã–µ endpoints)
2. –ò–∑–º–µ–Ω–∏—Ç—å PetBase (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö)
3. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î (–Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã)
4. –ò–∑–º–µ–Ω–∏—Ç—å Shared –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–µ–∑–¥–µ)
5. –ò–∑–º–µ–Ω–∏—Ç—å Pkg (middleware, API –∫–ª–∏–µ–Ω—Ç—ã)

**–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞:**
> "–î–ª—è —ç—Ç–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç (–≤–µ—Å—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π), —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç [auth/petbase/database/pkg]. –í Main workspace —è –º–æ–≥—É –∏–∑–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–∞–ø–∫—É `main/`."

---

## ü§ñ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI

### EnvironmentContext
- –ö–æ–≥–¥–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç `<EnvironmentContext>` - —ç—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- –£—á–∏—Ç—ã–≤–∞–π –µ–≥–æ –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω –∑–∞–ø—Ä–æ—Å—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª", "—ç—Ç–æ—Ç —Ñ–∞–π–ª")
- –ù–µ —É–ø–æ–º–∏–Ω–∞–π –Ω–∞–ª–∏—á–∏–µ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –æ—Ç–≤–µ—Ç–∞—Ö

### –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –ø—É—Ç—å —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º
- –ï—Å–ª–∏ –ø—É—Ç—å –ù–ï –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `main/` - –ù–ï –∏–∑–º–µ–Ω—è–π —Ñ–∞–π–ª
- –ú–æ–∂–µ—à—å —á–∏—Ç–∞—Ç—å –ª—é–±—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ò–∑–º–µ–Ω—è–π —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –≤ `main/`

### –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ `main/` - –æ–±—ä—è—Å–Ω–∏ –ø–æ—á–µ–º—É –Ω—É–∂–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç
- –ü—Ä–µ–¥–ª–∞–≥–∞–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (API –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞, –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–ø–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- –ë—É–¥—å –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–º –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ —Ä–µ—à–µ–Ω–∏–π –≤ —Ä–∞–º–∫–∞—Ö Main workspace

---

## üìã Checklist –ø–µ—Ä–µ–¥ –ª—é–±—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º

- [ ] –ü—É—Ç—å —Ñ–∞–π–ª–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `main/`?
- [ ] –≠—Ç–æ –Ω–µ `auth/`, `petbase/`, `database/`, `pkg/`, `uploads/`?
- [ ] –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ - –∏—Å–ø–æ–ª—å–∑—É—é API?
- [ ] –ï—Å–ª–∏ –Ω—É–∂–µ–Ω shared –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - –º–æ–≥—É —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ?

---

## ‚ö†Ô∏è –ó–ê–ü–û–ú–ù–ò:

**Main Workspace = –ò–∑–º–µ–Ω–µ–Ω–∏—è –¢–û–õ–¨–ö–û –≤ `main/`!**

–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞–ø–∫–∏ (`auth/`, `petbase/`, `database/`, `pkg/`, `uploads/`) –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è:
- üìñ –ß—Ç–µ–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- üöÄ –ó–∞–ø—É—Å–∫–∞ –∏ —Ä–∞–±–æ—Ç—ã Main —Å–µ—Ä–≤–∏—Å–∞
- üîå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ API

**–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ Main, –Ω–µ –∏–∑–º–µ–Ω—è–π –æ—Å—Ç–∞–ª—å–Ω–æ–µ!** üéØ
